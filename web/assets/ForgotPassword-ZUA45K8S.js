import{a as e,j as s}from"./vendor-animation-CcgChT4Y.js";import{L as r,C as t}from"./dropdown-menu-DjLdUzkQ.js";import{T as a}from"./TopNav-BcoF5Zho.js";import{g as n,L as o,B as i,c as m,A as l,e as d}from"./index-QkJ4t2go.js";import{C as c,a as x,b as u,c as p}from"./card-CZoDjOMW.js";import{I as h}from"./input-group-ByqfbmvE.js";import{J as j,K as f,L as g,M as b}from"./vendor-icons-BYe_-sqm.js";import"./vendor-radix-CgisZDtL.js";import"./vendor-charts-1c3qO8Q0.js";import"./vendor-ui-utils-B4kPJlQS.js";import"./NavBar-Zl-a5m7p.js";import"./TopBar-CO3pAy7f.js";import"./vendor-pdf-export-F3dE0gEs.js";import"./input-hHw7iIA9.js";const N=()=>{const[N,v]=e.useState(""),[y,w]=e.useState(!1),k=n();return s.jsxs(s.Fragment,{children:[s.jsx(a,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"w-42 h-42 sm:w-42 sm:h-42 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(r,{size:"xxl"})}),s.jsx("div",{className:"mb-6",children:s.jsxs(o,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[s.jsx(j,{className:"h-4 w-4"}),"Back to Login"]})}),s.jsxs(c,{className:"shadow-lg",children:[s.jsxs(x,{className:"text-center pb-6",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(f,{className:"h-8 w-8 text-primary"})}),s.jsx(u,{className:"text-2xl sm:text-3xl font-bold",children:"Forgot Password?"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-2",children:"Enter your email address, phone number, or username and we'll send you a link to reset your password."})]}),s.jsxs(p,{children:[s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),N.trim()?(w(!0),l.postData({endpoint:"/user/validate-details",body:{request:d({username:N,email:N,phone:N})},successCallback:()=>{w(!1),m.error(s.jsxs("span",{children:["Email or Phone Number or Username is not registered with us. Please go ahead and"," ",s.jsx("a",{href:"/register",className:"text-primary hover:underline font-medium",children:"register"}),"."]}),{duration:5e3})},errorCallback:()=>{l.postData({endpoint:"/user/forgot-password",body:{request:d({identifier:N,regenerate:!0})},successCallback:e=>{w(!1),m.success(`${e.message}`,{duration:5e3}),sessionStorage.setItem("resetIdentifier",N),k("/reset-password")},errorCallback:e=>{w(!1),m.error("Something went wrong while sending OTP.")}})}})):m.error("Please enter email or phone number")},className:"space-y-6",children:[s.jsx(h,{label:"Email, Phone Number, or Username",type:"text",value:N,onChange:v,placeholder:"Enter your email, phone, or username",required:!0}),s.jsxs(i,{type:"submit",className:"w-full h-11 text-sm sm:text-base",disabled:y||!N.trim(),children:[y&&s.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),y?"Sending Reset Link...":"Send Reset Link"]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:s.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",s.jsx(o,{to:"/register",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign up here"})]})})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(b,{className:"h-4 w-4"}),s.jsx("span",{children:"Need help? Contact us at renushomefoods@gmail.com"})]})})]})}),s.jsx(t,{})]})};export{N as default};
