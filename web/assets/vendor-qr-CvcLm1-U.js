import{c as t}from"./vendor-react-Tc4xLtOv.js";const e=function(t,e){let r=t;const n=l[e];let o=null,i=0,u=null;const a=[],c={},s=function(t,e){i=4*r+17,o=function(t){const e=new Array(t);for(let r=0;r<t;r+=1){e[r]=new Array(t);for(let n=0;n<t;n+=1)e[r][n]=null}return e}(i),f(0,0),f(i-7,0),f(0,i-7),g(),h(),w(t,e),r>=7&&d(t),null==u&&(u=S(r,n,a)),B(u,e)},f=function(t,e){for(let r=-1;r<=7;r+=1)if(!(t+r<=-1||i<=t+r))for(let n=-1;n<=7;n+=1)e+n<=-1||i<=e+n||(o[t+r][e+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},h=function(){for(let t=8;t<i-8;t+=1)null==o[t][6]&&(o[t][6]=t%2==0);for(let t=8;t<i-8;t+=1)null==o[6][t]&&(o[6][t]=t%2==0)},g=function(){const t=p.getPatternPosition(r);for(let e=0;e<t.length;e+=1)for(let r=0;r<t.length;r+=1){const n=t[e],i=t[r];if(null==o[n][i])for(let t=-2;t<=2;t+=1)for(let e=-2;e<=2;e+=1)o[n+t][i+e]=-2==t||2==t||-2==e||2==e||0==t&&0==e}},d=function(t){const e=p.getBCHTypeNumber(r);for(let r=0;r<18;r+=1){const n=!t&&1==(e>>r&1);o[Math.floor(r/3)][r%3+i-8-3]=n}for(let r=0;r<18;r+=1){const n=!t&&1==(e>>r&1);o[r%3+i-8-3][Math.floor(r/3)]=n}},w=function(t,e){const r=n<<3|e,l=p.getBCHTypeInfo(r);for(let n=0;n<15;n+=1){const e=!t&&1==(l>>n&1);n<6?o[n][8]=e:n<8?o[n+1][8]=e:o[i-15+n][8]=e}for(let n=0;n<15;n+=1){const e=!t&&1==(l>>n&1);n<8?o[8][i-n-1]=e:n<9?o[8][15-n-1+1]=e:o[8][15-n-1]=e}o[i-8][8]=!t},B=function(t,e){let r=-1,n=i-1,l=7,u=0;const a=p.getMaskFunction(e);for(let c=i-1;c>0;c-=2)for(6==c&&(c-=1);;){for(let e=0;e<2;e+=1)if(null==o[n][c-e]){let r=!1;u<t.length&&(r=1==(t[u]>>>l&1));a(n,c-e)&&(r=!r),o[n][c-e]=r,l-=1,-1==l&&(u+=1,l=7)}if(n+=r,n<0||i<=n){n-=r,r=-r;break}}},S=function(t,e,r){const n=M.getRSBlocks(t,e),o=C();for(let l=0;l<r.length;l+=1){const e=r[l];o.put(e.getMode(),4),o.put(e.getLength(),p.getLengthInBits(e.getMode(),t)),e.write(o)}let i=0;for(let l=0;l<n.length;l+=1)i+=n[l].dataCount;if(o.getLengthInBits()>8*i)throw"code length overflow. ("+o.getLengthInBits()+">"+8*i+")";for(o.getLengthInBits()+4<=8*i&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*i||(o.put(236,8),o.getLengthInBits()>=8*i));)o.put(17,8);return function(t,e){let r=0,n=0,o=0;const i=new Array(e.length),l=new Array(e.length);for(let s=0;s<e.length;s+=1){const u=e[s].dataCount,a=e[s].totalCount-u;n=Math.max(n,u),o=Math.max(o,a),i[s]=new Array(u);for(let e=0;e<i[s].length;e+=1)i[s][e]=255&t.getBuffer()[e+r];r+=u;const c=p.getErrorCorrectPolynomial(a),f=y(i[s],c.getLength()-1).mod(c);l[s]=new Array(c.getLength()-1);for(let t=0;t<l[s].length;t+=1){const e=t+f.getLength()-l[s].length;l[s][t]=e>=0?f.getAt(e):0}}let u=0;for(let s=0;s<e.length;s+=1)u+=e[s].totalCount;const a=new Array(u);let c=0;for(let s=0;s<n;s+=1)for(let t=0;t<e.length;t+=1)s<i[t].length&&(a[c]=i[t][s],c+=1);for(let s=0;s<o;s+=1)for(let t=0;t<e.length;t+=1)s<l[t].length&&(a[c]=l[t][s],c+=1);return a}(o,n)};c.addData=function(t,e){let r=null;switch(e=e||"Byte"){case"Numeric":r=m(t);break;case"Alphanumeric":r=k(t);break;case"Byte":r=b(t);break;case"Kanji":r=A(t);break;default:throw"mode:"+e}a.push(r),u=null},c.isDark=function(t,e){if(t<0||i<=t||e<0||i<=e)throw t+","+e;return o[t][e]},c.getModuleCount=function(){return i},c.make=function(){if(r<1){let t=1;for(;t<40;t++){const e=M.getRSBlocks(t,n),r=C();for(let n=0;n<a.length;n++){const e=a[n];r.put(e.getMode(),4),r.put(e.getLength(),p.getLengthInBits(e.getMode(),t)),e.write(r)}let o=0;for(let t=0;t<e.length;t++)o+=e[t].dataCount;if(r.getLengthInBits()<=8*o)break}r=t}s(!1,function(){let t=0,e=0;for(let r=0;r<8;r+=1){s(!0,r);const n=p.getLostPoint(c);(0==r||t>n)&&(t=n,e=r)}return e}())},c.createTableTag=function(t,e){t=t||2;let r="";r+='<table style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",r+='">',r+="<tbody>";for(let n=0;n<c.getModuleCount();n+=1){r+="<tr>";for(let e=0;e<c.getModuleCount();e+=1)r+='<td style="',r+=" border-width: 0px; border-style: none;",r+=" border-collapse: collapse;",r+=" padding: 0px; margin: 0px;",r+=" width: "+t+"px;",r+=" height: "+t+"px;",r+=" background-color: ",r+=c.isDark(n,e)?"#000000":"#ffffff",r+=";",r+='"/>';r+="</tr>"}return r+="</tbody>",r+="</table>",r},c.createSvgTag=function(t,e,r,n){let o={};"object"==typeof arguments[0]&&(o=arguments[0],t=o.cellSize,e=o.margin,r=o.alt,n=o.title),t=t||2,e=void 0===e?4*t:e,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-description":null,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-title":null;const i=c.getModuleCount()*t+2*e;let l,u,a,s,f,h="";for(f="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",h+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',h+=o.scalable?"":' width="'+i+'px" height="'+i+'px"',h+=' viewBox="0 0 '+i+" "+i+'" ',h+=' preserveAspectRatio="xMinYMin meet"',h+=n.text||r.text?' role="img" aria-labelledby="'+D([n.id,r.id].join(" ").trim())+'"':"",h+=">",h+=n.text?'<title id="'+D(n.id)+'">'+D(n.text)+"</title>":"",h+=r.text?'<description id="'+D(r.id)+'">'+D(r.text)+"</description>":"",h+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',h+='<path d="',a=0;a<c.getModuleCount();a+=1)for(s=a*t+e,l=0;l<c.getModuleCount();l+=1)c.isDark(a,l)&&(u=l*t+e,h+="M"+u+","+s+f);return h+='" stroke="transparent" fill="black"/>',h+="</svg>",h},c.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;const r=c.getModuleCount()*t+2*e,n=e,o=r-e;return x(r,r,function(e,r){if(n<=e&&e<o&&n<=r&&r<o){const o=Math.floor((e-n)/t),i=Math.floor((r-n)/t);return c.isDark(i,o)?0:1}return 1})},c.createImgTag=function(t,e,r){t=t||2,e=void 0===e?4*t:e;const n=c.getModuleCount()*t+2*e;let o="";return o+="<img",o+=' src="',o+=c.createDataURL(t,e),o+='"',o+=' width="',o+=n,o+='"',o+=' height="',o+=n,o+='"',r&&(o+=' alt="',o+=D(r),o+='"'),o+="/>",o};const D=function(t){let e="";for(let r=0;r<t.length;r+=1){const n=t.charAt(r);switch(n){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=n}}return e};return c.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;const e=1*c.getModuleCount()+2*t,r=t,n=e-t;let o,i,l,u,a;const s={"██":"█","█ ":"▀"," █":"▄","  ":" "},f={"██":"▀","█ ":"▀"," █":" ","  ":" "};let h="";for(o=0;o<e;o+=2){for(l=Math.floor((o-r)/1),u=Math.floor((o+1-r)/1),i=0;i<e;i+=1)a="█",r<=i&&i<n&&r<=o&&o<n&&c.isDark(l,Math.floor((i-r)/1))&&(a=" "),r<=i&&i<n&&r<=o+1&&o+1<n&&c.isDark(u,Math.floor((i-r)/1))?a+=" ":a+="█",h+=t<1&&o+1>=n?f[a]:s[a];h+="\n"}return e%2&&t>0?h.substring(0,h.length-e-1)+Array(e+1).join("▀"):h.substring(0,h.length-1)}(e);t-=1,e=void 0===e?2*t:e;const r=c.getModuleCount()*t+2*e,n=e,o=r-e;let i,l,u,a;const s=Array(t+1).join("██"),f=Array(t+1).join("  ");let h="",g="";for(i=0;i<r;i+=1){for(u=Math.floor((i-n)/t),g="",l=0;l<r;l+=1)a=1,n<=l&&l<o&&n<=i&&i<o&&c.isDark(u,Math.floor((l-n)/t))&&(a=0),g+=a?s:f;for(u=0;u<t;u+=1)h+=g+"\n"}return h.substring(0,h.length-1)},c.renderTo2dContext=function(t,e){e=e||2;const r=c.getModuleCount();for(let n=0;n<r;n++)for(let o=0;o<r;o++)t.fillStyle=c.isDark(n,o)?"black":"white",t.fillRect(o*e,n*e,e,e)},c};e.stringToBytes=function(t){const e=[];for(let r=0;r<t.length;r+=1){const n=t.charCodeAt(r);e.push(255&n)}return e},e.createStringToBytes=function(t,e){const r=function(){const r=S(t),n=function(){const t=r.read();if(-1==t)throw"eof";return t};let o=0;const i={};for(;;){const t=r.read();if(-1==t)break;const e=n(),l=n()<<8|n();i[String.fromCharCode(t<<8|e)]=l,o+=1}if(o!=e)throw o+" != "+e;return i}(),n="?".charCodeAt(0);return function(t){const e=[];for(let o=0;o<t.length;o+=1){const i=t.charCodeAt(o);if(i<128)e.push(i);else{const i=r[t.charAt(o)];"number"==typeof i?(255&i)==i?e.push(i):(e.push(i>>>8),e.push(255&i)):e.push(n)}}return e}};const r=1,n=2,o=4,i=8,l={L:1,M:0,Q:3,H:2},u=0,a=1,c=2,s=3,f=4,h=5,g=6,d=7,p=function(){const t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e=1335,l=7973,p={},M=function(t){let e=0;for(;0!=t;)e+=1,t>>>=1;return e};return p.getBCHTypeInfo=function(t){let r=t<<10;for(;M(r)-M(e)>=0;)r^=e<<M(r)-M(e);return 21522^(t<<10|r)},p.getBCHTypeNumber=function(t){let e=t<<12;for(;M(e)-M(l)>=0;)e^=l<<M(e)-M(l);return t<<12|e},p.getPatternPosition=function(e){return t[e-1]},p.getMaskFunction=function(t){switch(t){case u:return function(t,e){return(t+e)%2==0};case a:return function(t,e){return t%2==0};case c:return function(t,e){return e%3==0};case s:return function(t,e){return(t+e)%3==0};case f:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case h:return function(t,e){return t*e%2+t*e%3==0};case g:return function(t,e){return(t*e%2+t*e%3)%2==0};case d:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},p.getErrorCorrectPolynomial=function(t){let e=y([1],0);for(let r=0;r<t;r+=1)e=e.multiply(y([1,w.gexp(r)],0));return e},p.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case r:return 10;case n:return 9;case o:case i:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case r:return 12;case n:return 11;case o:return 16;case i:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case r:return 14;case n:return 13;case o:return 16;case i:return 12;default:throw"mode:"+t}}},p.getLostPoint=function(t){const e=t.getModuleCount();let r=0;for(let o=0;o<e;o+=1)for(let n=0;n<e;n+=1){let i=0;const l=t.isDark(o,n);for(let r=-1;r<=1;r+=1)if(!(o+r<0||e<=o+r))for(let u=-1;u<=1;u+=1)n+u<0||e<=n+u||0==r&&0==u||l==t.isDark(o+r,n+u)&&(i+=1);i>5&&(r+=3+i-5)}for(let o=0;o<e-1;o+=1)for(let n=0;n<e-1;n+=1){let e=0;t.isDark(o,n)&&(e+=1),t.isDark(o+1,n)&&(e+=1),t.isDark(o,n+1)&&(e+=1),t.isDark(o+1,n+1)&&(e+=1),0!=e&&4!=e||(r+=3)}for(let o=0;o<e;o+=1)for(let n=0;n<e-6;n+=1)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(let o=0;o<e;o+=1)for(let n=0;n<e-6;n+=1)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(r+=40);let n=0;for(let o=0;o<e;o+=1)for(let r=0;r<e;r+=1)t.isDark(r,o)&&(n+=1);return r+=10*(Math.abs(100*n/e/e-50)/5),r},p}(),w=function(){const t=new Array(256),e=new Array(256);for(let n=0;n<8;n+=1)t[n]=1<<n;for(let n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(let n=0;n<255;n+=1)e[t[n]]=n;const r={glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}};return r}(),y=function(t,e){if(void 0===t.length)throw t.length+"/"+e;const r=function(){let r=0;for(;r<t.length&&0==t[r];)r+=1;const n=new Array(t.length-r+e);for(let e=0;e<t.length-r;e+=1)n[e]=t[e+r];return n}(),n={getAt:function(t){return r[t]},getLength:function(){return r.length},multiply:function(t){const e=new Array(n.getLength()+t.getLength()-1);for(let r=0;r<n.getLength();r+=1)for(let o=0;o<t.getLength();o+=1)e[r+o]^=w.gexp(w.glog(n.getAt(r))+w.glog(t.getAt(o)));return y(e,0)},mod:function(t){if(n.getLength()-t.getLength()<0)return n;const e=w.glog(n.getAt(0))-w.glog(t.getAt(0)),r=new Array(n.getLength());for(let o=0;o<n.getLength();o+=1)r[o]=n.getAt(o);for(let n=0;n<t.getLength();n+=1)r[n]^=w.gexp(w.glog(t.getAt(n))+e);return y(r,0).mod(t)}};return n},M=function(){const t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){const r={};return r.totalCount=t,r.dataCount=e,r},r={};return r.getRSBlocks=function(r,n){const o=function(e,r){switch(r){case l.L:return t[4*(e-1)+0];case l.M:return t[4*(e-1)+1];case l.Q:return t[4*(e-1)+2];case l.H:return t[4*(e-1)+3];default:return}}(r,n);if(void 0===o)throw"bad rs block @ typeNumber:"+r+"/errorCorrectionLevel:"+n;const i=o.length/3,u=[];for(let t=0;t<i;t+=1){const r=o[3*t+0],n=o[3*t+1],i=o[3*t+2];for(let t=0;t<r;t+=1)u.push(e(n,i))}return u},r}(),C=function(){const t=[];let e=0;const r={getBuffer:function(){return t},getAt:function(e){const r=Math.floor(e/8);return 1==(t[r]>>>7-e%8&1)},put:function(t,e){for(let n=0;n<e;n+=1)r.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return e},putBit:function(r){const n=Math.floor(e/8);t.length<=n&&t.push(0),r&&(t[n]|=128>>>e%8),e+=1}};return r},m=function(t){const e=r,n=t,o={getMode:function(){return e},getLength:function(t){return n.length},write:function(t){const e=n;let r=0;for(;r+2<e.length;)t.put(i(e.substring(r,r+3)),10),r+=3;r<e.length&&(e.length-r==1?t.put(i(e.substring(r,r+1)),4):e.length-r==2&&t.put(i(e.substring(r,r+2)),7))}},i=function(t){let e=0;for(let r=0;r<t.length;r+=1)e=10*e+l(t.charAt(r));return e},l=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return o},k=function(t){const e=n,r=t,o={getMode:function(){return e},getLength:function(t){return r.length},write:function(t){const e=r;let n=0;for(;n+1<e.length;)t.put(45*i(e.charAt(n))+i(e.charAt(n+1)),11),n+=2;n<e.length&&t.put(i(e.charAt(n)),6)}},i=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return o},b=function(t){const r=o,n=e.stringToBytes(t),i={getMode:function(){return r},getLength:function(t){return n.length},write:function(t){for(let e=0;e<n.length;e+=1)t.put(n[e],8)}};return i},A=function(t){const r=i,n=e.stringToBytes;!function(){const t=n("友");if(2!=t.length||38726!=(t[0]<<8|t[1]))throw"sjis not supported."}();const o=n(t),l={getMode:function(){return r},getLength:function(t){return~~(o.length/2)},write:function(t){const e=o;let r=0;for(;r+1<e.length;){let n=(255&e[r])<<8|255&e[r+1];if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw"illegal char at "+(r+1)+"/"+n;n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13),r+=2}if(r<e.length)throw"illegal char at "+(r+1)}};return l},B=function(){const t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,r,n){r=r||0,n=n||t.length;for(let o=0;o<n;o+=1)e.writeByte(t[o+r])},writeString:function(t){for(let r=0;r<t.length;r+=1)e.writeByte(t.charCodeAt(r))},toByteArray:function(){return t},toString:function(){let e="";e+="[";for(let r=0;r<t.length;r+=1)r>0&&(e+=","),e+=t[r];return e+="]",e}};return e},S=function(t){const e=t;let r=0,n=0,o=0;const i={read:function(){for(;o<8;){if(r>=e.length){if(0==o)return-1;throw"unexpected end of file./"+o}const t=e.charAt(r);if(r+=1,"="==t)return o=0,-1;t.match(/^\s$/)||(n=n<<6|l(t.charCodeAt(0)),o+=6)}const t=n>>>o-8&255;return o-=8,t}},l=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return i},x=function(t,e,r){const n=function(t,e){const r=t,n=e,o=new Array(t*e),i={setPixel:function(t,e,n){o[e*r+t]=n},write:function(t){t.writeString("GIF87a"),t.writeShort(r),t.writeShort(n),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(r),t.writeShort(n),t.writeByte(0);const e=l(2);t.writeByte(2);let o=0;for(;e.length-o>255;)t.writeByte(255),t.writeBytes(e,o,255),o+=255;t.writeByte(e.length-o),t.writeBytes(e,o,e.length-o),t.writeByte(0),t.writeString(";")}},l=function(t){const e=1<<t,r=1+(1<<t);let n=t+1;const i=u();for(let o=0;o<e;o+=1)i.add(String.fromCharCode(o));i.add(String.fromCharCode(e)),i.add(String.fromCharCode(r));const l=B(),a=function(t){const e=t;let r=0,n=0;return{write:function(t,o){if(t>>>o!=0)throw"length over";for(;r+o>=8;)e.writeByte(255&(t<<r|n)),o-=8-r,t>>>=8-r,n=0,r=0;n|=t<<r,r+=o},flush:function(){r>0&&e.writeByte(n)}}}(l);a.write(e,n);let c=0,s=String.fromCharCode(o[c]);for(c+=1;c<o.length;){const t=String.fromCharCode(o[c]);c+=1,i.contains(s+t)?s+=t:(a.write(i.indexOf(s),n),i.size()<4095&&(i.size()==1<<n&&(n+=1),i.add(s+t)),s=t)}return a.write(i.indexOf(s),n),a.write(r,n),a.flush(),l.toByteArray()},u=function(){const t={};let e=0;const r={add:function(n){if(r.contains(n))throw"dup key:"+n;t[n]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return r};return i}(t,e);for(let u=0;u<e;u+=1)for(let e=0;e<t;e+=1)n.setPixel(e,u,r(e,u));const o=B();n.write(o);const i=function(){let t=0,e=0,r=0,n="";const o={},i=function(t){n+=String.fromCharCode(l(63&t))},l=function(t){if(t<0)throw"n:"+t;if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47;throw"n:"+t};return o.writeByte=function(n){for(t=t<<8|255&n,e+=8,r+=1;e>=6;)i(t>>>e-6),e-=6},o.flush=function(){if(e>0&&(i(t<<6-e),t=0,e=0),r%3!=0){const t=3-r%3;for(let e=0;e<t;e+=1)n+="="}},o.toString=function(){return n},o}(),l=o.toByteArray();for(let u=0;u<l.length;u+=1)i.writeByte(l[u]);return i.flush(),"data:image/gif;base64,"+i};class D extends t.Component{canvasRef=t.createRef();static defaultProps={value:"https://reactjs.org/",ecLevel:"M",enableCORS:!1,size:150,quietZone:10,bgColor:"#FFFFFF",fgColor:"#000000",logoOpacity:1,qrStyle:"squares",eyeRadius:[0,0,0],logoPaddingStyle:"square",logoPaddingRadius:0};download(t,e){if(this.canvasRef.current){let r;switch(t){case"jpg":r="image/jpeg";break;case"webp":r="image/webp";break;default:r="image/png"}const n=this.canvasRef.current.toDataURL(r,1),o=document.createElement("a");o.download=e??"react-qrcode-logo",o.href=n,o.click()}}utf16to8(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),r>=1&&r<=127?n+=t.charAt(e):r>2047?(n+=String.fromCharCode(224|r>>12&15),n+=String.fromCharCode(128|r>>6&63),n+=String.fromCharCode(128|63&r)):(n+=String.fromCharCode(192|r>>6&31),n+=String.fromCharCode(128|63&r));return n}drawRoundedSquare(t,e,r,n,o,i,l,u){u.lineWidth=t,u.fillStyle=o,u.strokeStyle=o,r+=t/2,e+=t/2,n-=t,Array.isArray(i)||(i=[i,i,i,i]);const a=(i=i.map(t=>(t=Math.min(t,n/2))<0?0:t))[0]||0,c=i[1]||0,s=i[2]||0,f=i[3]||0;u.beginPath(),u.moveTo(e+a,r),u.lineTo(e+n-c,r),c&&u.quadraticCurveTo(e+n,r,e+n,r+c),u.lineTo(e+n,r+n-s),s&&u.quadraticCurveTo(e+n,r+n,e+n-s,r+n),u.lineTo(e+f,r+n),f&&u.quadraticCurveTo(e,r+n,e,r+n-f),u.lineTo(e,r+a),a&&u.quadraticCurveTo(e,r,e+a,r),u.closePath(),u.stroke(),l&&u.fill()}drawPositioningPattern(t,e,r,n,o,i,l=[0,0,0,0]){const u=Math.ceil(e);let a,c,s,f;"number"==typeof l||Array.isArray(l)?(a=l,c=a):(a=l.outer||0,c=l.inner||0),"string"!=typeof i?(s=i.outer,f=i.inner):(s=i,f=i);let h=n*e+r,g=o*e+r,d=7*e;this.drawRoundedSquare(u,g,h,d,s,a,!1,t),d=3*e,h+=2*e,g+=2*e,this.drawRoundedSquare(u,g,h,d,f,c,!0,t)}isInPositioninZone(t,e,r){return r.some(r=>t>=r.row&&t<=r.row+7&&e>=r.col&&e<=r.col+7)}removeCoordinateBehindLogo(t,e,r,n,o,i,l,u,a,c,s=0,f="square"){if(!t||!c)return!1;const h=Math.ceil(s/u)*u,g=i+a,d=l+a,p=Math.round(r*u)+a,w=Math.round(e*u)+a,y=p+(Math.ceil((r+1)*u)-Math.floor(r*u)),M=w+(Math.ceil((e+1)*u)-Math.floor(e*u));if("square"===f){return p<g+n+h&&y>g-h&&(w<d+o+h&&M>d-h)}if("circle"===f){const t=g+n/2,e=d+o/2,r=Math.max(n,o)/2+h,i=t-Math.max(p,Math.min(t,y)),l=e-Math.max(w,Math.min(e,M));return i*i+l*l<r*r}return!1}constructor(t){super(t)}shouldComponentUpdate(t){return!L(this.props,t)}componentDidMount(){this.update()}componentDidUpdate(){this.update()}update(){const{value:t,ecLevel:r,enableCORS:n,bgColor:o,fgColor:i,logoImage:l,logoOpacity:u,logoOnLoad:a,removeQrCodeBehindLogo:c,qrStyle:s,eyeRadius:f,eyeColor:h,logoPaddingStyle:g,logoPaddingRadius:d}=this.props,p=+this.props.size,w=+this.props.quietZone,y=this.props.logoWidth?+this.props.logoWidth:0,M=this.props.logoHeight?+this.props.logoHeight:0,C=this.props.logoPadding?+this.props.logoPadding:0,m=e(0,r);m.addData(this.utf16to8(t)),m.make();const k=this.canvasRef?.current,b=k.getContext("2d"),A=p+2*w,B=m.getModuleCount(),S=p/B,x=window.devicePixelRatio||1,D=y||.2*p,L=M||D,v=(p-D)/2,P=(p-L)/2;k.height=k.width=A*x,b.scale(x,x),b.fillStyle=o,b.fillRect(0,0,A,A);const R=w,I=[{row:0,col:0},{row:0,col:B-7},{row:B-7,col:0}];if(b.strokeStyle=i,"dots"===s){b.fillStyle=i;const t=S/2;for(let e=0;e<B;e++)for(let r=0;r<B;r++)!m.isDark(e,r)||this.isInPositioninZone(e,r,I)||this.removeCoordinateBehindLogo(c??!1,e,r,D,L,v,P,S,R,l,C,g)||(b.beginPath(),b.arc(Math.round(r*S)+t+R,Math.round(e*S)+t+R,t/100*75,0,2*Math.PI,!1),b.closePath(),b.fill())}else if("fluid"===s){const t=Math.ceil(S/2);for(let e=0;e<B;e++)for(let r=0;r<B;r++)if(m.isDark(e,r)&&!this.isInPositioninZone(e,r,I)&&!this.removeCoordinateBehindLogo(c??!1,e,r,D,L,v,P,S,R,l,C,g)){let n=[!1,!1,!1,!1];e>0&&!m.isDark(e-1,r)&&r>0&&!m.isDark(e,r-1)&&(n[0]=!0),e>0&&!m.isDark(e-1,r)&&r<B-1&&!m.isDark(e,r+1)&&(n[1]=!0),e<B-1&&!m.isDark(e+1,r)&&r<B-1&&!m.isDark(e,r+1)&&(n[2]=!0),e<B-1&&!m.isDark(e+1,r)&&r>0&&!m.isDark(e,r-1)&&(n[3]=!0);const o=Math.ceil((r+1)*S)-Math.floor(r*S),l=Math.ceil((e+1)*S)-Math.floor(e*S);b.fillStyle=i,b.beginPath(),b.arc(Math.round(r*S)+t+R,Math.round(e*S)+t+R,t,0,2*Math.PI,!1),b.closePath(),b.fill(),n[0]||b.fillRect(Math.round(r*S)+R,Math.round(e*S)+R,o/2,l/2),n[1]||b.fillRect(Math.round(r*S)+R+Math.floor(o/2),Math.round(e*S)+R,o/2,l/2),n[2]||b.fillRect(Math.round(r*S)+R+Math.floor(o/2),Math.round(e*S)+R+Math.floor(l/2),o/2,l/2),n[3]||b.fillRect(Math.round(r*S)+R,Math.round(e*S)+R+Math.floor(l/2),o/2,l/2)}}else for(let e=0;e<B;e++)for(let t=0;t<B;t++)if(m.isDark(e,t)&&!this.isInPositioninZone(e,t,I)&&!this.removeCoordinateBehindLogo(c??!1,e,t,D,L,v,P,S,R,l,C,g)){b.fillStyle=i;const r=Math.ceil((t+1)*S)-Math.floor(t*S),n=Math.ceil((e+1)*S)-Math.floor(e*S);b.fillRect(Math.round(t*S)+R,Math.round(e*S)+R,r,n)}for(let e=0;e<3;e++){const{row:t,col:r}=I[e];let n,o=f;Array.isArray(o)&&(o=o[e]),"number"==typeof o&&(o=[o,o,o,o]),n=h?Array.isArray(h)?h[e]:h:i,this.drawPositioningPattern(b,S,R,t,r,n,o)}if(l){const t=new Image;n&&(t.crossOrigin="Anonymous"),t.onload=e=>{if(b.save(),C){b.beginPath(),b.strokeStyle=o,b.fillStyle=o;const t=D+2*C,e=L+2*C,r=v+R-C,n=P+R-C;if("circle"===g){const o=r+t/2,i=n+e/2;b.ellipse(o,i,t/2,e/2,0,0,2*Math.PI),b.stroke(),b.fill()}else b.roundRect(r,n,t,e,d),b.stroke(),b.fill()}b.globalAlpha=u,b.drawImage(t,v+R,P+R,D,L),b.restore(),a&&a(e)},t.src=l}}render(){const e=+this.props.size+2*+this.props.quietZone;return t.createElement("canvas",{id:this.props.id??"react-qrcode-logo",height:e,width:e,style:{height:e+"px",width:e+"px",...this.props.style},ref:this.canvasRef})}}function L(t,e,r=new WeakMap){if(Object.is(t,e))return!0;if(typeof t!=typeof e)return!1;if(null==t||null==e)return!1;if("function"==typeof t||"function"==typeof e)return t===e;if("object"==typeof t&&"object"==typeof e){if(r.has(t)&&r.get(t)===e)return!0;r.set(t,e)}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!L(t[n],e[n],r))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(![...e].some(t=>L(n,t,r)))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,o]of t)if(!e.has(n)||!L(o,e.get(n),r))return!1;return!0}if(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t)){const n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(const i of n){if(!o.includes(i))return!1;if(!L(t[i],e[i],r))return!1}return!0}try{return JSON.stringify(t)===JSON.stringify(e)}catch{return!1}}export{D as Q};
