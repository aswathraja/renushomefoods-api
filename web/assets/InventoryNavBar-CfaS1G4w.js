import{r as e,a8 as s,m as a,j as r,U as l,a9 as n,aa as i,ab as t,ac as c,X as o}from"./vendor-react-Tc4xLtOv.js";import{b as d,u as m,a as h,B as x,A as j,e as f,c as g}from"./index-CCl3TzR2.js";import{L as p,D as k,a as u,b,c as N,d as v}from"./dropdown-menu-Dweh6OYL.js";import{T as y}from"./TopBar-DKySbC2h.js";const w=()=>{const[w,C]=e.useState(!0),z=s(),I=a(),{isAdmin:L}=d(),{theme:S,setTheme:D,effectiveTheme:A}=m(),T=[{href:"/",label:"Home",type:"link"},{href:"/inventory",label:"Dashboard",type:"link"},{href:"/inventory/categories",label:"Categories",type:"link"},{href:"/inventory/items",label:"Items",type:"link"},{href:"/inventory/locations",label:"Locations",type:"link"},{href:"/admin",label:"Admin Dashboard",type:"link"}],B=Boolean(localStorage.getItem("token"));return r.jsxs(r.Fragment,{children:[r.jsx(y,{}),r.jsxs("nav",{className:h("sticky top-0 left-0 right-0 z-40 flex h-14 sm:h-16 items-center px-3 sm:px-4 border-b backdrop-blur-sm transition-all duration-300","text-foreground"),children:[r.jsx("div",{className:"flex items-center flex-shrink-0",children:r.jsxs("a",{href:"/",className:"flex items-center space-x-1 sm:space-x-2",children:[r.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10",children:r.jsx(p,{})}),r.jsx("span",{className:"font-serif text-sm sm:text-lg font-semibold block nav-parisienne",children:"Amma's Heartmade Magic"})]})}),r.jsx("div",{className:"hidden xl:flex items-center space-x-1 ml-8",children:T.map(e=>r.jsx("a",{href:e.href,className:h("px-3 py-2 text-sm font-medium rounded-md transition-colors focus-ring",z.pathname===e.href?"text-foreground bg-accent":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:e.label},e.href))}),r.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 ml-auto",children:[B&&r.jsxs(k,{children:[r.jsx(u,{asChild:!0,children:r.jsx(x,{variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full hidden md:flex",children:r.jsx(l,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),r.jsxs(b,{align:"end",className:"w-56",children:[r.jsx(N,{onClick:()=>{I("/profile")},children:"Profile"}),r.jsx(N,{onClick:()=>I("/order-tracking"),children:"Orders"}),r.jsx(N,{onClick:()=>I("/addresses"),children:"Addresses"}),L&&r.jsxs(r.Fragment,{children:[r.jsx(v,{}),r.jsx(N,{onClick:()=>I("/admin"),children:"Admin Dashboard"}),r.jsx(N,{onClick:()=>I("/inventory"),children:"Inventory"})]}),r.jsx(v,{}),r.jsx(N,{onClick:()=>{const e=localStorage.getItem("token");e&&j.postData({endpoint:"/user/logout",body:{request:f({token:e})},successCallback:()=>{localStorage.removeItem("token"),g.success("Logged Out Successfully"),I("/login")},errorCallback:()=>{localStorage.removeItem("token"),g.error("Logout failed. Please try again")}})},className:"text-primary",children:"Logout"})]})]}),!B&&r.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>I("/login"),className:"h-9 sm:h-10 px-3 hidden md:flex",children:[r.jsx(l,{className:"h-4 w-4 sm:mr-2"}),r.jsx("span",{className:"hidden sm:hidden",children:"Login"})]}),r.jsxs(k,{children:[r.jsx(u,{asChild:!0,children:r.jsxs(x,{variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10",children:["light"===S&&r.jsx(n,{className:"h-4 w-4"}),"dark"===S&&r.jsx(i,{className:"h-4 w-4"}),"system"===S&&r.jsx(t,{className:"h-4 w-4"})]})}),r.jsxs(b,{align:"end",children:[r.jsxs(N,{onClick:()=>D("light"),children:[r.jsx(n,{className:"mr-2 h-4 w-4"}),"Light"]}),r.jsxs(N,{onClick:()=>D("dark"),children:[r.jsx(i,{className:"mr-2 h-4 w-4"}),"Dark"]}),r.jsxs(N,{onClick:()=>D("system"),children:[r.jsx(t,{className:"mr-2 h-4 w-4"}),"System"]})]})]}),r.jsx(x,{variant:"ghost",size:"icon",className:"xl:hidden h-9 w-9 sm:h-10 sm:w-10",onClick:()=>{C(e=>!e)},children:w?r.jsx(c,{className:"h-5 w-5"}):r.jsx(o,{className:"h-5 w-5"})})]})]}),!w&&r.jsx("div",{className:h("fixed top-12 left-0 right-0 z-30 xl:hidden","bg-background border-b border-border","shadow-lg transition-all duration-200"),children:r.jsxs("div",{className:"px-4 py-6 space-y-1",children:[T.map(e=>r.jsx("div",{children:r.jsx("a",{href:e.href,className:"block px-3 py-2 text-base font-medium text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors",onClick:()=>C(!0),children:e.label})},e.label)),r.jsx("div",{className:"pt-4 border-t border-border",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsxs(x,{variant:"light"===S?"default":"outline",size:"sm",onClick:()=>D("light"),children:[r.jsx(n,{className:"h-4 w-4 mr-2"}),"Light"]}),r.jsxs(x,{variant:"dark"===S?"default":"outline",size:"sm",onClick:()=>D("dark"),children:[r.jsx(i,{className:"h-4 w-4 mr-2"}),"Dark"]}),r.jsxs(x,{variant:"system"===S?"default":"outline",size:"sm",onClick:()=>D("system"),children:[r.jsx(t,{className:"h-4 w-4 mr-2"}),"System"]})]})})]})})]})};export{w as I};
