import{r as M,t as I,v as T,j as e}from"./vendor-react-Bk0qDDMD.js";import{a as B,u as P,b as l,B as n,A as F,e as O,c as j}from"./index-Bzbs1pXN.js";import{L as U,D as f,a as g,b as k,c as a,d as b}from"./dropdown-menu-Dae-Y6FG.js";import{T as q}from"./TopBar-CaoAhFRU.js";import{m as v,n as c,o as d,p as m,q as E,X as H}from"./vendor-icons-FTV6Dp_q.js";import{A as y,m as o}from"./vendor-motion-DKNEqpS6.js";const N=[.42,0,.58,1],Q=()=>{const[h,x]=M.useState(!0),w=I(),r=T(),{isAdmin:C}=B(),{theme:t,setTheme:i,effectiveTheme:A}=P(),D=()=>{x(s=>!s)},S=()=>{const s=localStorage.getItem("token");s&&F.postData({endpoint:"/user/logout",body:{request:O({token:s})},successCallback:()=>{localStorage.removeItem("token"),j.success("Logged Out Successfully"),r("/login")},errorCallback:()=>{localStorage.removeItem("token"),j.error("Logout failed. Please try again")}})},L=()=>{r("/profile")},p=[{href:"/",label:"Home",type:"link"},{href:"/admin",label:"Dashboard",type:"link"},{href:"/admin/orders",label:"Orders",type:"link"},{href:"/admin/users",label:"Users",type:"link"},{href:"/admin/coupons",label:"Coupons",type:"link"},{href:"/admin/ad-campaigns",label:"Ad Campaigns",type:"link"},{href:"/admin/reviews",label:"Reviews",type:"link"},{href:"/inventory",label:"Inventory",type:"link"}],u=!!localStorage.getItem("token");return e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsxs("nav",{className:l("sticky top-0 left-0 right-0 z-40 flex h-14 sm:h-16 items-center px-3 sm:px-4 border-b backdrop-blur-sm transition-all duration-300","text-foreground"),children:[e.jsx("div",{className:"flex items-center flex-shrink-0",children:e.jsxs("a",{href:"/",className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10",children:e.jsx(U,{})}),e.jsx("span",{className:"font-serif text-sm sm:text-lg font-semibold block nav-parisienne",children:"Amma's Heartmade Magic"})]})}),e.jsx("div",{className:"hidden xl:flex items-center space-x-1 ml-8",children:p.map(s=>e.jsx("a",{href:s.href,className:l("px-3 py-2 text-sm font-medium rounded-md transition-colors focus-ring",w.pathname===s.href?"text-foreground bg-accent":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:s.label},s.href))}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 ml-auto",children:[u&&e.jsxs(f,{children:[e.jsx(g,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full hidden md:flex",children:e.jsx(v,{className:"h-4 w-4 sm:h-5 sm:w-5"})})}),e.jsxs(k,{align:"end",className:"w-56",children:[e.jsx(a,{onClick:L,children:"Profile"}),e.jsx(a,{onClick:()=>r("/order-tracking"),children:"Orders"}),e.jsx(a,{onClick:()=>r("/addresses"),children:"Addresses"}),C&&e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(a,{onClick:()=>r("/admin"),children:"Admin Dashboard"}),e.jsx(a,{onClick:()=>r("/inventory"),children:"Inventory"})]}),e.jsx(b,{}),e.jsx(a,{onClick:S,className:"text-primary",children:"Logout"})]})]}),!u&&e.jsxs(n,{variant:"ghost",size:"sm",onClick:()=>r("/login"),className:"h-9 sm:h-10 px-3 hidden md:flex",children:[e.jsx(v,{className:"h-4 w-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:hidden",children:"Login"})]}),e.jsxs(f,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(n,{variant:"ghost",size:"icon",className:"h-9 w-9 sm:h-10 sm:w-10",children:[t==="light"&&e.jsx(c,{className:"h-4 w-4"}),t==="dark"&&e.jsx(d,{className:"h-4 w-4"}),t==="system"&&e.jsx(m,{className:"h-4 w-4"})]})}),e.jsxs(k,{align:"end",children:[e.jsxs(a,{onClick:()=>i("light"),children:[e.jsx(c,{className:"mr-2 h-4 w-4"}),"Light"]}),e.jsxs(a,{onClick:()=>i("dark"),children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Dark"]}),e.jsxs(a,{onClick:()=>i("system"),children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"System"]})]})]}),e.jsx(n,{variant:"ghost",size:"icon",className:"xl:hidden h-9 w-9 sm:h-10 sm:w-10",onClick:D,children:e.jsx(y,{mode:"wait",children:h?e.jsx(o.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.3},children:e.jsx(E,{className:"h-5 w-5"})},"menu"):e.jsx(o.div,{initial:{opacity:0,rotate:90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:-90},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5"})},"close")})})]})]}),e.jsx(y,{children:!h&&e.jsx(o.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.2,ease:N},className:l("fixed top-12 left-0 right-0 z-30 xl:hidden","bg-background border-b border-border","shadow-lg"),children:e.jsxs("div",{className:"px-4 py-6 space-y-1",children:[p.map((s,z)=>e.jsx(o.div,{initial:{x:"100%"},animate:{x:0},transition:{duration:.2,ease:N,delay:z*.05},children:s.href?e.jsx("a",{href:s.href,className:"block px-3 py-2 text-base font-medium text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors",children:s.label}):e.jsx("span",{className:"block px-3 py-2 text-base font-medium text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors cursor-pointer",onClick:()=>x(!0),children:s.label})},s.label)),e.jsx("div",{className:"pt-4 border-t border-border",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsxs(n,{variant:t==="light"?"default":"outline",size:"sm",onClick:()=>i("light"),children:[e.jsx(c,{className:"h-4 w-4 mr-2"}),"Light"]}),e.jsxs(n,{variant:t==="dark"?"default":"outline",size:"sm",onClick:()=>i("dark"),children:[e.jsx(d,{className:"h-4 w-4 mr-2"}),"Dark"]}),e.jsxs(n,{variant:t==="system"?"default":"outline",size:"sm",onClick:()=>i("system"),children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"System"]})]})})]})})})]})};export{Q as A};
