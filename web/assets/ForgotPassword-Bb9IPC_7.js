import{r as e,m as s,j as r,aj as t,ak as a,al as n,L as o,M as i}from"./vendor-react-Tc4xLtOv.js";import{L as m,C as l}from"./dropdown-menu-Dweh6OYL.js";import{T as d}from"./TopNav-BXcsdcnw.js";import{B as c,c as x,A as u,e as p}from"./index-CCl3TzR2.js";import{C as h,a as j,b as f,c as g}from"./card-ZRElQZzO.js";import{I as b}from"./input-group-BGtxGQoB.js";import"./vendor-charts-DKw1ZHYY.js";import"./vendor-ui-utils-B4kPJlQS.js";import"./vendor-radix-O0RUyoIw.js";import"./NavBar-CdfgxkT6.js";import"./TopBar-DKySbC2h.js";import"./vendor-pdf-export-C4gp01y5.js";import"./vendor-animation-BGrdDg6I.js";import"./input-F4kRSedd.js";const N=()=>{const[N,v]=e.useState(""),[y,w]=e.useState(!1),k=s();return r.jsxs(r.Fragment,{children:[r.jsx(d,{}),r.jsx("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsx("div",{className:"w-42 h-42 sm:w-42 sm:h-42 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(m,{size:"xxl"})}),r.jsx("div",{className:"mb-6",children:r.jsxs(t,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[r.jsx(a,{className:"h-4 w-4"}),"Back to Login"]})}),r.jsxs(h,{className:"shadow-lg",children:[r.jsxs(j,{className:"text-center pb-6",children:[r.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:r.jsx(n,{className:"h-8 w-8 text-primary"})}),r.jsx(f,{className:"text-2xl sm:text-3xl font-bold",children:"Forgot Password?"}),r.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-2",children:"Enter your email address, phone number, or username and we'll send you a link to reset your password."})]}),r.jsxs(g,{children:[r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),N.trim()?(w(!0),u.postData({endpoint:"/user/validate-details",body:{request:p({username:N,email:N,phone:N})},successCallback:()=>{w(!1),x.error(r.jsxs("span",{children:["Email or Phone Number or Username is not registered with us. Please go ahead and"," ",r.jsx("a",{href:"/register",className:"text-primary hover:underline font-medium",children:"register"}),"."]}),{duration:5e3})},errorCallback:()=>{u.postData({endpoint:"/user/forgot-password",body:{request:p({identifier:N,regenerate:!0})},successCallback:e=>{w(!1),x.success(`${e.message}`,{duration:5e3}),sessionStorage.setItem("resetIdentifier",N),k("/reset-password")},errorCallback:e=>{w(!1),x.error("Something went wrong while sending OTP.")}})}})):x.error("Please enter email or phone number")},className:"space-y-6",children:[r.jsx(b,{label:"Email, Phone Number, or Username",type:"text",value:N,onChange:v,placeholder:"Enter your email, phone, or username",required:!0}),r.jsxs(c,{type:"submit",className:"w-full h-11 text-sm sm:text-base",disabled:y||!N.trim(),children:[y&&r.jsx(o,{className:"mr-2 h-4 w-4 animate-spin"}),y?"Sending Reset Link...":"Send Reset Link"]})]}),r.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:r.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",r.jsx(t,{to:"/register",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign up here"})]})})]})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(i,{className:"h-4 w-4"}),r.jsx("span",{children:"Need help? Contact us at renushomefoods@gmail.com"})]})})]})}),r.jsx(l,{})]})};export{N as default};
