import{i as p,r as n,b as h,j as e,k as i,B as f,L as g,c as t,A as l,e as m}from"./index-8NHjPGoz.js";import{L as j,C as y}from"./dropdown-menu-IOzSXCNd.js";import{T as b}from"./TopNav-De76WN1g.js";import{C as N,a as w,b as v,c as C}from"./card-aC7JMF-Q.js";import{I as k}from"./input-group-DqdZkB_p.js";import{A as L}from"./arrow-left-3MyS9NOR.js";import{M as S}from"./mail-Dp_o9Byd.js";import"./NavBar-_xyNH_Lu.js";import"./TopBar-CQtj2zh-.js";import"./input--giszOJS.js";import"./eye-C6G5wksv.js";const P=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],E=p("key-round",P),_=()=>{const[s,d]=n.useState(""),[a,r]=n.useState(!1),c=h(),u=async x=>{if(x.preventDefault(),!s.trim()){t.error("Please enter email or phone number");return}r(!0),l.postData({endpoint:"/user/validate-details",body:{request:m({username:s,email:s,phone:s})},successCallback:()=>{r(!1),t.error(e.jsxs("span",{children:["Email or Phone Number or Username is not registered with us. Please go ahead and"," ",e.jsx("a",{href:"/register",className:"text-primary hover:underline font-medium",children:"register"}),"."]}),{duration:5e3})},errorCallback:()=>{l.postData({endpoint:"/user/forgot-password",body:{request:m({identifier:s,regenerate:!0})},successCallback:o=>{r(!1),t.success(`${o.message}`,{duration:5e3}),sessionStorage.setItem("resetIdentifier",s),c("/reset-password")},errorCallback:o=>{r(!1),t.error("Something went wrong while sending OTP.")}})}})};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"w-42 h-42 sm:w-42 sm:h-42 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(j,{size:"xxl"})}),e.jsx("div",{className:"mb-6",children:e.jsxs(i,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(L,{className:"h-4 w-4"}),"Back to Login"]})}),e.jsxs(N,{className:"shadow-lg",children:[e.jsxs(w,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"h-8 w-8 text-primary"})}),e.jsx(v,{className:"text-2xl sm:text-3xl font-bold",children:"Forgot Password?"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-2",children:"Enter your email address, phone number, or username and we'll send you a link to reset your password."})]}),e.jsxs(C,{children:[e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsx(k,{label:"Email, Phone Number, or Username",type:"text",value:s,onChange:d,placeholder:"Enter your email, phone, or username",required:!0}),e.jsxs(f,{type:"submit",className:"w-full h-11 text-sm sm:text-base",disabled:a||!s.trim(),children:[a&&e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Sending Reset Link...":"Send Reset Link"]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",e.jsx(i,{to:"/register",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign up here"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:"Need help? Contact us at renushomefoods@gmail.com"})]})})]})}),e.jsx(y,{})]})};export{_ as default};
