import{l as b}from"./InteractivePieChart-BdIv9hma.js";import"./vendor-react-Bk0qDDMD.js";import"./vendor-base-ui-BXIcfa4M.js";import"./index-Bzbs1pXN.js";import"./vendor-pdf-CtkwMsdI.js";import"./vendor-charts-DTq7uDuz.js";import"./vendor-radix-B6Rg7jVq.js";import"./vendor-icons-FTV6Dp_q.js";import"./vendor-motion-DKNEqpS6.js";import"./dropdown-menu-Dae-Y6FG.js";function C(e){return typeof e=="string"&&/^data:image\/svg\+xml/i.test(e)}function M(e){let n=e.indexOf(",");return n>=0?decodeURIComponent(e.slice(n+1)):""}function v(e){return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`}function F(e){let n=[],t="",i=0;for(let a=0;a<e.length;a++){let r=e[a];r==="("&&i++,r===")"&&(i=Math.max(0,i-1)),r===";"&&i===0?(n.push(t),t=""):t+=r}return t.trim()&&n.push(t),n.map(a=>a.trim()).filter(Boolean)}function k(e){let n=[],t="",i=0;for(let r=0;r<e.length;r++){let s=e[r];s==="("&&i++,s===")"&&(i=Math.max(0,i-1)),s===","&&i===0?(n.push(t.trim()),t=""):t+=s}t.trim()&&n.push(t.trim());let a=[];for(let r of n){if(/\binset\b/i.test(r))continue;let s=r.match(/-?\d+(?:\.\d+)?px/gi)||[],[l="0px",o="0px",p="0px"]=s,u=r.replace(/-?\d+(?:\.\d+)?px/gi,"").replace(/\binset\b/ig,"").trim().replace(/\s{2,}/g," "),d=!!u&&u!==",";a.push(`drop-shadow(${l} ${o} ${p}${d?` ${u}`:""})`)}return a.join(" ")}function y(e){let n=F(e),t=null,i=null,a=null,r=[];for(let l of n){let o=l.indexOf(":");if(o<0)continue;let p=l.slice(0,o).trim().toLowerCase(),u=l.slice(o+1).trim();p==="box-shadow"?a=u:p==="filter"?t=u:p==="-webkit-filter"?i=u:r.push([p,u])}if(a){let l=k(a);l&&(t=t?`${t} ${l}`:l,i=i?`${i} ${l}`:l)}let s=[...r];return t&&s.push(["filter",t]),i&&s.push(["-webkit-filter",i]),s.map(([l,o])=>`${l}:${o}`).join(";")}function I(e){return e.replace(/([^{}]+)\{([^}]*)\}/g,(n,t,i)=>`${t}{${y(i)}}`)}function N(e){return e=e.replace(/<style[^>]*>([\s\S]*?)<\/style>/gi,(n,t)=>n.replace(t,I(t))),e=e.replace(/style=(['"])([\s\S]*?)\1/gi,(n,t,i)=>`style=${t}${y(i)}${t}`),e}function S(e){if(!b()||!C(e))return e;try{let n=M(e),t=N(n);return v(t)}catch{return e}}async function q(e,n){let{width:t,height:i,scale:a=1,dpr:r=1,meta:s={},backgroundColor:l}=n;e=S(e);let o=new Image;o.loading="eager",o.decoding="sync",o.crossOrigin="anonymous",o.src=e,await o.decode();let p=o.naturalWidth,u=o.naturalHeight,d=Number.isFinite(s.w0)?s.w0:p,x=Number.isFinite(s.h0)?s.h0:u,c,m,$=Number.isFinite(t),w=Number.isFinite(i);if($&&w)c=Math.max(1,t),m=Math.max(1,i);else if($){let g=t/Math.max(1,d);c=t,m=x*g}else if(w){let g=i/Math.max(1,x);m=i,c=d*g}else c=p,m=u;c=c*a,m=m*a;let f=document.createElement("canvas");f.width=c*r,f.height=m*r,f.style.width=`${c}px`,f.style.height=`${m}px`;let h=f.getContext("2d");return r!==1&&h.scale(r,r),l&&(h.save(),h.fillStyle=l,h.fillRect(0,0,c,m),h.restore()),h.drawImage(o,0,0,c,m),f}export{q as toCanvas};
