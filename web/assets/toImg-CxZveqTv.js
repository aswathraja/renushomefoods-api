import{rasterize as u}from"./rasterize-34PCWURX-Bcw9BwF6.js";import{l as g}from"./InteractivePieChart-BdIv9hma.js";import"./toCanvas-iqQjX25n.js";import"./vendor-react-Bk0qDDMD.js";import"./vendor-base-ui-BXIcfa4M.js";import"./index-Bzbs1pXN.js";import"./vendor-pdf-CtkwMsdI.js";import"./vendor-charts-DTq7uDuz.js";import"./vendor-radix-B6Rg7jVq.js";import"./vendor-icons-FTV6Dp_q.js";import"./vendor-motion-DKNEqpS6.js";import"./dropdown-menu-Dae-Y6FG.js";async function v(i,p){let{scale:s=1,width:m,height:n,meta:e={}}=p,o=Number.isFinite(m),l=Number.isFinite(n),d=Number.isFinite(s)&&s!==1||o||l;if(g()&&d)return await u(i,{...p,format:"png",quality:1,meta:e});let t=new Image;if(t.decoding="sync",t.loading="eager",t.src=i,await t.decode(),o&&l)t.style.width=`${m}px`,t.style.height=`${n}px`;else if(o){let a=Number.isFinite(e.w0)?e.w0:t.naturalWidth,r=Number.isFinite(e.h0)?e.h0:t.naturalHeight,h=m/Math.max(1,a);t.style.width=`${m}px`,t.style.height=`${Math.round(r*h)}px`}else if(l){let a=Number.isFinite(e.w0)?e.w0:t.naturalWidth,r=Number.isFinite(e.h0)?e.h0:t.naturalHeight,h=n/Math.max(1,r);t.style.height=`${n}px`,t.style.width=`${Math.round(a*h)}px`}else{let a=Math.round(t.naturalWidth*s),r=Math.round(t.naturalHeight*s);if(t.style.width=`${a}px`,t.style.height=`${r}px`,typeof i=="string"&&i.startsWith("data:image/svg+xml"))try{let h=decodeURIComponent(i.split(",")[1]).replace(/width="[^"]*"/,`width="${a}"`).replace(/height="[^"]*"/,`height="${r}"`);i=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h)}`,t.src=i}catch{}}return t}export{v as toImg,v as toSvg};
