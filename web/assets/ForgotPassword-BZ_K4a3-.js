import{r as n,v as p,j as e,L as i}from"./vendor-react-Bk0qDDMD.js";import{L as h,C as f}from"./dropdown-menu-Dae-Y6FG.js";import{T as g}from"./TopNav-CB2ZnTw2.js";import{B as j,c as t,A as m,e as l}from"./index-Bzbs1pXN.js";import{C as b,a as N,b as y,c as w}from"./card-CEH0XzyS.js";import{I as v}from"./input-group-BDw_1XBF.js";import{A as C,K as L,L as S,M as k}from"./vendor-icons-FTV6Dp_q.js";import"./vendor-base-ui-BXIcfa4M.js";import"./vendor-radix-B6Rg7jVq.js";import"./NavBar-CnkV8-sD.js";import"./vendor-motion-DKNEqpS6.js";import"./TopBar-CaoAhFRU.js";import"./vendor-pdf-CtkwMsdI.js";import"./vendor-charts-DTq7uDuz.js";import"./input-Cpcu6Bjn.js";const H=()=>{const[s,d]=n.useState(""),[a,r]=n.useState(!1),c=p(),x=async u=>{if(u.preventDefault(),!s.trim()){t.error("Please enter email or phone number");return}r(!0),m.postData({endpoint:"/user/validate-details",body:{request:l({username:s,email:s,phone:s})},successCallback:()=>{r(!1),t.error(e.jsxs("span",{children:["Email or Phone Number or Username is not registered with us. Please go ahead and"," ",e.jsx("a",{href:"/register",className:"text-primary hover:underline font-medium",children:"register"}),"."]}),{duration:5e3})},errorCallback:()=>{m.postData({endpoint:"/user/forgot-password",body:{request:l({identifier:s,regenerate:!0})},successCallback:o=>{r(!1),t.success(`${o.message}`,{duration:5e3}),sessionStorage.setItem("resetIdentifier",s),c("/reset-password")},errorCallback:o=>{r(!1),t.error("Something went wrong while sending OTP.")}})}})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"w-42 h-42 sm:w-42 sm:h-42 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(h,{size:"xxl"})}),e.jsx("div",{className:"mb-6",children:e.jsxs(i,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(C,{className:"h-4 w-4"}),"Back to Login"]})}),e.jsxs(b,{className:"shadow-lg",children:[e.jsxs(N,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(L,{className:"h-8 w-8 text-primary"})}),e.jsx(y,{className:"text-2xl sm:text-3xl font-bold",children:"Forgot Password?"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-2",children:"Enter your email address, phone number, or username and we'll send you a link to reset your password."})]}),e.jsxs(w,{children:[e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx(v,{label:"Email, Phone Number, or Username",type:"text",value:s,onChange:d,placeholder:"Enter your email, phone, or username",required:!0}),e.jsxs(j,{type:"submit",className:"w-full h-11 text-sm sm:text-base",disabled:a||!s.trim(),children:[a&&e.jsx(S,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Sending Reset Link...":"Send Reset Link"]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",e.jsx(i,{to:"/register",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign up here"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Need help? Contact us at renushomefoods@gmail.com"})]})})]})}),e.jsx(f,{})]})};export{H as default};
