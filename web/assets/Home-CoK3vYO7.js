import{r as e,j as s,am as t,a1 as a,an as r,ao as l,ap as o,aq as i,aj as n,af as c,ah as d,M as m,m as x,a6 as u,ar as h,a5 as p,a7 as g,a4 as f,X as b}from"./vendor-react-Tc4xLtOv.js";import{A as j,e as v,B as N,a as y,m as w,u as k,c as C,b as S}from"./index-CCl3TzR2.js";import{C as P,c as I,a as T}from"./card-ZRElQZzO.js";import{C as $}from"./dropdown-menu-Dweh6OYL.js";import{a as M,S as F}from"./SiInstagram-DVOT-6fS.js";import{S as D}from"./SiWhatsapp-Dh2c06Ur.js";import{c as z,L as A,d as q,C as L}from"./vendor-radix-O0RUyoIw.js";import{B as W}from"./badge-BZaNuTv-.js";import{P as E,C as O}from"./PhotoGallaryModal-piAobPR-.js";import{C as R}from"./checkbox-C1BQOpNB.js";import{D as B,a as G,b as V,c as U}from"./dialog-CT_0QHuT.js";import{I as _}from"./input-F4kRSedd.js";import{L as J}from"./label-DxpSIJ1C.js";import{P as X,a as Q,b as Y}from"./popover-B3nRiRzT.js";import{T as H}from"./TopNav-BXcsdcnw.js";import"./vendor-charts-DKw1ZHYY.js";import"./vendor-ui-utils-B4kPJlQS.js";import"./vendor-pdf-export-C4gp01y5.js";import"./vendor-animation-BGrdDg6I.js";import"./NavBar-CdfgxkT6.js";import"./TopBar-DKySbC2h.js";const Z=()=>{const[r,l]=e.useState([]),[o,i]=e.useState(0),[n,c]=e.useState(null),[d,m]=e.useState(null);e.useEffect(()=>{j.postData({endpoint:"/inventory/get-categories",body:{request:v({type:"Product"})},successCallback:e=>{l(e)},errorCallback:()=>l([])})},[]);const x=()=>{i(e=>(e+1)%r.length)},u=()=>{i(e=>(e-1+r.length)%r.length)},h=e=>{window.dispatchEvent(new CustomEvent("select-category",{detail:e})),w.scroller.scrollTo("shop",{duration:800,delay:0,smooth:"easeInOutQuart",offset:-65})};e.useEffect(()=>{if(r.length<=1)return;const e=setInterval(()=>{x()},5e3);return()=>clearInterval(e)},[r.length]);return 0===r.length?s.jsx("div",{className:"w-full aspect-[3/2] sm:aspect-[3/2] md:aspect-[30/9] lg:aspect-[30/9] bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading categories..."})}):s.jsx("div",{className:"relative w-full overflow-hidden bg-background",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"flex transition-transform duration-500 ease-in-out touch-pan-x",style:{transform:`translateX(-${100*o}%)`},onTouchStart:e=>{m(null),c(e.targetTouches[0].clientX)},onTouchMove:e=>{m(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!n||!d)return;const e=n-d,s=e<-50;e>50?x():s&&u()},children:r.map(e=>s.jsx("div",{className:"w-full flex-shrink-0 relative",children:s.jsx(P,{className:"border-0 shadow-none",children:s.jsx(I,{className:"p-0 relative",children:s.jsx("div",{className:"relative aspect-[3/2] sm:aspect-[3/2] md:aspect-[9/3] lg:aspect-[9/3] w-full overflow-hidden",children:e.image?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:`/static/inventory/${e.image}`,className:"aspect-[3/2] sm:aspect-[3/2] md:aspect-[9/3] lg:aspect-[9/3] w-full",alt:e.category,loading:"eager"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 sm:bottom-10 md:bottom-0 left-0 right-0 p-4 sm:p-6 text-white",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3 leading-tight",children:e.category}),s.jsxs(N,{onClick:()=>{h(e.category)},className:"bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 text-sm sm:text-base h-auto",size:"sm",children:["Shop ",e.category]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-full h-full bg-muted flex flex-row items-stretch justify-between",children:[s.jsx("img",{src:"/img/logo.webp",className:"h-full w-auto object-contain",alt:"Logo"}),s.jsx("div",{className:"flex-1"}),s.jsx("img",{src:"/img/logo-tamil.webp",className:"h-full w-auto object-contain",alt:"Logo Tamil"})]}),s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("h3",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white text-center drop-shadow-lg",children:e.category})}),s.jsx("div",{className:"absolute bottom-0 sm:bottom-10 md:bottom-0 left-0 right-0 p-4 sm:p-6",children:s.jsxs(N,{onClick:()=>{h(e.category)},className:"bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 text-sm sm:text-base h-auto shadow-lg",size:"sm",children:["Shop ",e.category]})})]})})})})},e.id))}),r.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(N,{variant:"ghost",size:"icon",className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-background/90 hover:bg-background text-foreground rounded-full shadow-lg border border-border/20 backdrop-blur-sm transition-all duration-200 hover:scale-105 w-8 h-8 sm:w-10 sm:h-10 p-0 flex items-center justify-center",onClick:u,children:s.jsx(t,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),s.jsx(N,{variant:"ghost",size:"icon",className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-background/90 hover:bg-background text-foreground rounded-full shadow-lg border border-border/20 backdrop-blur-sm transition-all duration-200 hover:scale-105 w-8 h-8 sm:w-10 sm:h-10 p-0 flex items-center justify-center",onClick:x,children:s.jsx(a,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),r.length>1&&s.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center justify-center",children:s.jsx("div",{className:"flex items-center gap-2 px-4 py-2 bg-black/20 backdrop-blur-sm rounded-full shadow-lg",children:r.map((e,t)=>s.jsx("button",{onClick:()=>(e=>{i(e)})(t),className:y("transition-all duration-200 ease-in-out rounded-full","w-2 h-2 sm:w-2.5 sm:h-2.5","flex-shrink-0","cursor-pointer","focus:outline-none focus:ring-2 focus:ring-primary/50","active:scale-95",t===o?"bg-primary scale-125 shadow-lg ring-1 ring-primary/70":"bg-white/90 hover:bg-white hover:scale-110 shadow-sm"),"aria-label":`Go to slide ${t+1}`},t))})})]})})},K=()=>{const e=[{icon:r,title:"Free Shipping",description:"Free on orders over ₹999"},{icon:l,title:"Secure Payment",description:"100% Secure Payment Methods"},{icon:o,title:"Easy Order Tracking",description:"Track your orders easily"},{icon:i,title:"24/7 Support",description:"Contact Us on WhatsApp"}];return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full border-t border-border my-6 sm:my-8"}),s.jsx("section",{className:"container mx-auto px-4 py-8 sm:py-12",children:s.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:e.map((e,t)=>{const a=e.icon;return s.jsx(P,{className:"text-center hover:shadow-lg transition-all duration-200 hover:scale-105 bg-card/50 backdrop-blur-sm",children:s.jsxs(I,{className:"p-4 sm:p-6",children:[s.jsx("div",{className:"flex justify-center mb-3 sm:mb-4",children:s.jsx("div",{className:"p-2 sm:p-3 bg-primary/10 rounded-full",children:s.jsx(a,{className:"h-6 w-6 sm:h-8 sm:w-8 text-primary"})})}),s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-1 sm:mb-2 leading-tight",children:e.title}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:e.description})]})},t)})})})]})},ee=()=>s.jsxs("footer",{className:"bg-card border-t border-border mt-8 lg:mt-12",children:[s.jsx("div",{className:"container mx-auto px-4 py-4 lg:py-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Amma's Heartmade Magic"}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Fresh, homemade food delivered to your doorstep. Made with love, served with care."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("a",{href:"https://www.facebook.com/share/14LMDq1E1uV",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:s.jsx(M,{className:"h-5 w-5 text-primary"})}),s.jsx("a",{href:"https://instagram.com/renus.homefoods",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:s.jsx(F,{className:"h-5 w-5 text-primary"})}),s.jsx("a",{href:"https://wa.me/+919363720792",target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary transition-colors",children:s.jsx(D,{className:"h-5 w-5 text-primary"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Quick Links"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(n,{to:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(n,{to:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx(n,{to:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact Us"})}),s.jsx("li",{children:s.jsx(n,{to:"/order-tracking",className:"text-muted-foreground hover:text-primary transition-colors",children:"Order Tracking"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Policies"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(n,{to:"/shipping-policy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Shipping Policy"})}),s.jsx("li",{children:s.jsx(n,{to:"/return-policy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Returns & Refunds"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Contact Info"}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-start space-x-3",children:[s.jsx(c,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:s.jsx("a",{href:"https://maps.app.goo.gl/SnTns1GJpD4FSWaT8",target:"_blank",rel:"noopener noreferrer",children:"D2, Vaigundar Villa, Sumangali Manasarovar Garden, Paruthipattu, Chennai - 60071"})})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(d,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:s.jsx("a",{href:"tel:+919363720792",target:"_blank",rel:"noopener noreferrer",children:"+91 93637-20792"})})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx(m,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-muted-foreground",children:s.jsx("a",{href:"mailto:renushomefoods@gmail.com",target:"_blank",rel:"noopener noreferrer",children:"renushomefoods@gmail.com"})})]})]})]})]})}),s.jsx($,{})]}),se=z,te=e.forwardRef(({className:e,...t},a)=>s.jsx(A,{ref:a,className:y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));te.displayName=A.displayName;const ae=e.forwardRef(({className:e,...t},a)=>s.jsx(q,{ref:a,className:y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ae.displayName=q.displayName;const re=e.forwardRef(({className:e,...t},a)=>s.jsx(L,{ref:a,className:y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));re.displayName=L.displayName;const le=({images:r,productName:l})=>{const[o,i]=e.useState(0);if(!r||0===r.length)return s.jsx("div",{className:"w-full h-80 rounded-t-lg",children:s.jsx("img",{src:"/img/logo.webp",className:"w-full h-full object-fill",alt:`${l} - No image available`})});return s.jsxs("div",{className:"relative w-full h-80 overflow-hidden rounded-t-lg",children:[s.jsx("div",{className:"w-full h-full",children:s.jsx("img",{src:(e=>{if(!e)return"/placeholder-image.jpg";const s=e.fileName||e.url||e.src||e.path||"";if(!s)return"/placeholder-image.jpg";if(s.startsWith("http://")||s.startsWith("https://"))return s;const t=window.location.hostname,a="localhost"===t||t.startsWith("192.168.")?`http://${t}:3000`:window.location.origin;let r;return r=s.startsWith("/")?`${a}/static/inventory${s}`:s.includes("inventory/")?`${a}/${s}`:`${a}/static/inventory${s}`,r})(r[o]),className:"w-full h-full object-fill",alt:`${l} - ${o+1}`,onError:e=>{e.target.src="/img  /logo.webp"}})}),r.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(N,{variant:"outline",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 p-0 rounded-full bg-background/80 backdrop-blur-sm",onClick:()=>{i(e=>0===e?r.length-1:e-1)},children:s.jsx(t,{className:"w-4 h-4"})}),s.jsx(N,{variant:"outline",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 p-0 rounded-full bg-background/80 backdrop-blur-sm",onClick:()=>{i(e=>e===r.length-1?0:e+1)},children:s.jsx(a,{className:"w-4 h-4"})})]}),r.length>1&&s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-2",children:r.map((e,t)=>s.jsx("button",{className:"w-2 h-2 rounded-full transition-all "+(t===o?"bg-primary scale-110":"bg-background/60 hover:bg-background/80"),onClick:()=>(e=>{i(e)})(t)},t))})]})},oe=({product:e,selectedPriceIndex:t,setSelectedPriceIndex:a,cart:r,setCart:l})=>{const o=x(),{effectiveTheme:i}=k(),n=e.PriceLists||[],c=t[e.id]??0,d=n[c];return s.jsxs(P,{className:"w-full h-full border-2 transition-all hover:shadow-lg "+("dark"===i?"border-border bg-card":"border-primary bg-white"),children:[s.jsx(T,{className:"p-0",children:s.jsxs("div",{className:"relative",children:[s.jsx(le,{images:e.ProductImages||[],productName:e.name}),s.jsx(W,{className:"absolute top-2 left-2 bg-primary text-primary-foreground",children:e.Category?.category||"Category"})]})}),s.jsxs(I,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.tagline||"No tagline available."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:n.map((t,r)=>s.jsx(N,{variant:c===r?"default":"outline",size:"sm",onClick:()=>{a(s=>({...s,[e.id]:r}))},className:"text-xs",children:t.weight},t.id||r))}),s.jsxs("div",{className:"text-center space-y-1",children:[d&&d.unitprice>=d.basePrice&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:"text-sm text-primary font-medium",children:" "}),s.jsx("div",{className:"text-sm text-muted-foreground",children:" "})]}),s.jsx("div",{className:"text-2xl font-bold text-foreground",children:d?`₹${d.unitprice}`:"Price not available"}),d&&d.unitprice<d.basePrice&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("span",{className:"text-sm text-primary font-medium",children:[Math.round((d.unitprice-d.basePrice)/d.basePrice*100),"% off"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["M.R.P. : ",s.jsxs("span",{className:"line-through",children:["₹",d.basePrice]})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(N,{variant:"outline",size:"sm",className:"flex-1 border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:()=>((e,s)=>{const t=s?.id;let a=!1;const o=r.map(s=>s.productId===e.id&&s.priceList?.id===t?(a=!0,{...s,quantity:(s.quantity||1)+1}):s);let i;i=a?o:[...r,{productId:e.id,name:e.name,tagline:e.tagline,image:e.ProductImages?.[0]?.fileName||"",category:e.Category?.category||"",priceList:s,quantity:1}],l(i),localStorage.setItem("cart",JSON.stringify(i)),C.success(`Added ${s.weight} of ${e.name} to the cart`,{duration:2500,position:"top-center"})})(e,d),children:[s.jsx("i",{className:"fas fa-shopping-bag mr-2"})," Add To Cart"]}),s.jsxs(N,{variant:"outline",size:"sm",className:"flex-1 border-primary text-primary hover:bg-primary hover:text-primary-foreground",onClick:()=>((e,s)=>{const t=s?.id;let a=!1;const i=r.map(s=>s.productId===e.id&&s.priceList?.id===t?(a=!0,{...s,quantity:(s.quantity||1)+1}):s);let n;n=a?i:[...r,{productId:e.id,name:e.name,tagline:e.tagline,image:e.ProductImages?.[0]?.fileName||"",category:e.Category?.category||"",priceList:s,quantity:1}],l(n),localStorage.setItem("cart",JSON.stringify(n)),C.success(`Added ${s.weight} of ${e.name} to the cart`,{duration:2500,position:"top-center"}),o("/checkout")})(e,d),children:[s.jsx("i",{className:"fas fa-shopping-cart mr-2"})," Buy Now"]})]})]})]})]})},ie=({products:t})=>{const[a,r]=e.useState({}),[l,o]=e.useState(()=>{if("undefined"!=typeof window&&window.localStorage)try{return JSON.parse(window.localStorage.getItem("cart")||"[]")}catch{return[]}return[]});return s.jsxs("div",{className:"w-full space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 gap-6",children:t.map(e=>s.jsx(oe,{product:e,selectedPriceIndex:a,setSelectedPriceIndex:r,cart:l,setCart:o},e.id))}),0===t.length&&s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-muted-foreground text-lg",children:"No products available"})})]})},ne=({name:r})=>{const[l,o]=e.useState([]),[i,n]=e.useState("All Products"),[c,d]=e.useState([]),[m,u]=e.useState(0),[h,p]=e.useState(0),g=x(),f=e.useRef(null);e.useEffect(()=>{f.current&&(f.current.scrollLeft=0,setTimeout(()=>{f.current&&p(f.current.scrollWidth-f.current.clientWidth)},100)),"1"===sessionStorage.getItem("scrollToShop")&&(sessionStorage.removeItem("scrollToShop"),w.scroller.scrollTo("shop",{duration:300,delay:500,smooth:"easeInOutQuart",offset:-300})),j.postData({endpoint:"/inventory/get-categories",body:{request:v({type:"Product"})},successCallback:e=>{Array.isArray(e)?o(e):o([])},errorCallback:()=>o([])});const e=e=>{e.detail&&n(e.detail)};return window.addEventListener("select-category",e),()=>window.removeEventListener("select-category",e)},[]);const b=e=>{f.current&&f.current.scrollBy({left:e,behavior:"smooth"})};e.useEffect(()=>{j.postData({endpoint:"/inventory/get-products",body:{request:v({category:i})},successCallback:e=>{d(e)},errorCallback:e=>{g("/maintenance")}})},[i]);const N=[...l.map(e=>e.category),"All Products"];return s.jsx("div",{className:"w-full py-6 lg:py-8",id:r,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:s.jsxs("div",{className:"text-left",children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-foreground",children:"Our Wholesome Delicacies"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Fresh homemade food delivered to your doorstep"})]})})}),s.jsx("div",{className:"mb-6 lg:mb-8",children:s.jsxs(se,{value:i,onValueChange:n,className:"w-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>b(-200),className:y("absolute left-0 top-1/2 -translate-y-1/2 z-10 flex items-center justify-center w-13 h-13 rounded-full bg-background/95 shadow-lg border-2 border-primary/20 transition-all duration-300 hover:bg-background border-primary/40",m>0?"opacity-100 translate-x-0":"opacity-0 -translate-x-4 pointer-events-none"),"aria-label":"Scroll left",children:s.jsx(t,{className:y("w-6 h-6 text-primary",m>0&&"animate-bounce-x-left")})}),s.jsx("button",{onClick:()=>b(200),className:y("absolute right-0 border-primary border-1 top-1/2 -translate-y-1/2 z-10 flex items-center justify-center w-13 h-13 rounded-full bg-background/95 shadow-lg border-2 border-primary/20 transition-all duration-300 hover:bg-background border-primary/40",m<h&&h>0?"opacity-100 translate-x-0":"opacity-0 translate-x-4 pointer-events-none"),"aria-label":"Scroll right",children:s.jsx(a,{className:y("w-6 h-6 text-primary",m<h&&h>0&&"animate-bounce-x-right")})}),s.jsx("div",{ref:f,onScroll:()=>{f.current&&(u(f.current.scrollLeft),p(f.current.scrollWidth-f.current.clientWidth))},className:"overflow-x-auto scrollbar-hide scroll-smooth border-1 border-primary rounded-full",children:s.jsx(te,{className:"flex w-max gap-1 lg:gap-2 h-auto p-1 bg-muted/50 justify-start",children:N.map(e=>s.jsx(ae,{value:e,className:y("flex-shrink-0 rounded-full px-3 lg:px-4 py-2 lg:py-2.5 text-xs lg:text-sm font-medium transition-all duration-200 whitespace-nowrap","data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-sm","data-[state=inactive]:bg-transparent data-[state=inactive]:text-muted-foreground hover:bg-accent hover:text-accent-foreground","border-2 border-primary data-[state=active]:border-primary data-[state=inactive]:border-secondary/30","outline outline-1 outline-primary"),children:e},e))})})]}),s.jsx("div",{className:"mt-6 lg:mt-8",children:s.jsx(re,{value:i,className:"mt-0",children:s.jsx(ie,{products:c})})})]})})]})})},ce=()=>{const{user:r,setUser:l}=S(),[o,i]=e.useState([]),[n,c]=e.useState(0),[d,m]=e.useState(!0),[x,w]=e.useState(!1),[k,T]=e.useState(!1),[$,M]=e.useState(!1),[F,D]=e.useState(!1),[z,A]=e.useState(null),[q,L]=e.useState(null),[W,H]=e.useState({name:"",phone:"",rating:0,review:"",location:"",reviewDate:"",userId:r?.id||null,photo:null}),[Z,K]=e.useState(null),[ee,se]=e.useState({}),[te,ae]=e.useState([]),[re,le]=e.useState([]),[oe,ie]=e.useState(!1),ne=e.useRef(null);e.useEffect(()=>{me()},[k,r]),e.useEffect(()=>{k&&ce()},[k]);const ce=async()=>{if(!(te.length>0)){ie(!0);try{j.postData({endpoint:"/inventory/get-products",body:{request:v({})},successCallback:e=>{ae(e||[]),ie(!1)},errorCallback:()=>{ae([]),ie(!1)}})}catch(e){ie(!1)}}},de=(e,s)=>{le(s?[...re,e]:re.filter(s=>s.id!==e.id))};e.useEffect(()=>{j.postData({endpoint:"/order/get-reviews",body:{request:v({})},successCallback:e=>{i(e.reviews||[]),m(!1)},errorCallback:()=>{i([]),m(!1)}})},[]);const me=async()=>{if(r?.name&&r?.phone)return void H(e=>({...e,name:r.name||"",phone:r.phone||""}));const e=localStorage.getItem("token");if(k&&e)try{j.get("/user/details",{Authorization:`Bearer ${e}`}).then(e=>{e&&e.user&&(H(s=>({...s,name:e.user.name||"",phone:e.user.phone||"",userId:e.user.id||null})),l(s=>({...s,id:e.user.id,name:e.user.name,phone:e.user.phone})))}).catch(e=>{})}catch(s){}else k&&H(e=>({...e,name:"",phone:""}))},xe=()=>{x||0===o.length||(w(!0),c(e=>(e+1)%o.length),setTimeout(()=>w(!1),500))},ue=()=>{x||0===o.length||(w(!0),c(e=>(e-1+o.length)%o.length),setTimeout(()=>w(!1),500))},he=(n-1+o.length)%o.length,pe=(n+1)%o.length;e.useEffect(()=>{if(o.length<=1||F)return;const e=setInterval(()=>{xe()},6e3);return()=>clearInterval(e)},[o.length,x,F]);const ge=!!o[n]?.photo&&(fe=o[n]?.photo,[".mp4",".mov",".avi",".webm",".mkv",".m4v"].some(e=>fe.toLowerCase().endsWith(e)));var fe;const be=e=>{const{name:s,value:t}=e.target;H(e=>({...e,[s]:t})),ee[s]&&se(e=>({...e,[s]:""}))};return d?s.jsx("div",{className:"w-full py-6 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:s.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[s.jsx("div",{className:"h-4 w-32 bg-muted rounded mb-4"}),s.jsx("div",{className:"h-3 w-48 bg-muted rounded"})]})})})}):s.jsxs("section",{className:"w-full py-6 bg-gradient-to-b from-background to-muted/20",children:[s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"What Our Customers Say"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mb-4",children:"Real reviews from our happy customers"}),s.jsx(N,{variant:"outline",size:"lg",onClick:()=>{H({name:r?.name||"",phone:r?.phone||"",rating:0,review:"",location:"",reviewDate:"",photo:null}),K(null),se({}),le([]),T(!0)},className:"transition-all duration-200 hover:scale-105",children:"Write a Review"})]}),s.jsxs("div",{className:"relative max-w-8xl mx-auto overflow-x-hidden",children:[o.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(N,{variant:"ghost",size:"icon",className:"absolute left-0 sm:left-2 top-1/2 -translate-y-1/2 z-20 bg-background/90 hover:bg-background shadow-lg rounded-full w-10 h-10 sm:w-12 sm:h-12 transition-all duration-200 hover:scale-110",onClick:ue,children:s.jsx(t,{className:"h-5 w-5"})}),s.jsx(N,{variant:"ghost",size:"icon",className:"absolute right-0 sm:right-2 top-1/2 -translate-y-1/2 z-20 bg-background/90 hover:bg-background shadow-lg rounded-full w-10 h-10 sm:w-12 sm:h-12 transition-all duration-200 hover:scale-110",onClick:xe,children:s.jsx(a,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"overflow-visible",onTouchStart:e=>{L(null),A(e.targetTouches[0].clientX)},onTouchMove:e=>{L(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!z||!q)return;const e=z-q,s=e<-50;e>50?xe():s&&ue()},children:s.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-6",children:[o.length>2&&s.jsx("div",{className:"w-72 sm:w-96 flex-shrink-0 px-2 opacity-40 scale-95 blur-[0.5px] cursor-pointer transition-all duration-300 hover:opacity-50 hover:scale-100 hidden sm:block",onClick:ue,children:s.jsx(P,{className:"border-0 bg-muted/50 backdrop-blur-sm h-full",children:s.jsxs(I,{className:"p-4 sm:p-6 flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mb-3",children:s.jsx("span",{className:"text-primary font-semibold text-lg",children:o[he].name.charAt(0).toUpperCase()})}),s.jsx("h4",{className:"font-semibold text-foreground text-sm mb-1",children:o[he].name}),s.jsx("div",{className:"flex gap-0.5 mb-2",children:Array.from({length:Math.floor(o[he].rating)}).map((e,t)=>s.jsx(u,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},t))}),s.jsxs("p",{className:"text-muted-foreground text-xs line-clamp-3",children:['"',o[he].review.substring(0,100),'..."']})]})})}),s.jsx("div",{className:y("w-full max-w-2xl flex-shrink-0 px-2 sm:px-4 transition-all duration-500 z-10","opacity-100 translate-y-0 scale-100"),children:s.jsx(P,{className:y("border-0 bg-background/95 backdrop-blur-sm transition-all duration-500 shadow-2xl shadow-primary/10","my-4",!x&&"scale-105 translate-y-[-8px]"),children:s.jsxs(I,{className:"p-6 sm:p-8",children:[s.jsx("div",{className:"mb-4",children:s.jsx(h,{className:"h-8 w-8 text-primary/30"})}),s.jsxs("p",{className:"text-foreground text-base sm:text-lg leading-relaxed mb-6 italic",children:['"',o[n].review,'"']}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center shadow-inner",children:s.jsx("span",{className:"text-primary font-semibold text-sm sm:text-xl",children:o[n].name.charAt(0).toUpperCase()})})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground text-xs sm:text-base",children:o[n].name}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:o[n].location}),s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:(je=o[n].reviewDate||o[n].updatedAt,new Date(je).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}))})]})]}),s.jsxs("div",{className:y("flex items-center gap-3",o[n]?.photo?"sm:flex-row flex-col":"flex-row"),children:[o[n]?.photo&&s.jsx("div",{className:y("relative",o[n]?.photo?"sm:static":""),children:s.jsx(E,{title:ge?"Review Video":"Review Photo",open:F,onOpenChange:D,imageSrcs:[`/static${o[n]?.photo}`],children:s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl overflow-hidden shadow-inner border-2 border-primary/20 cursor-pointer hover:opacity-80 transition-opacity relative group",children:ge?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:`/static${o[n]?.photo}`,alt:o[n].name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/40 transition-colors",children:s.jsx(p,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white fill-white"})})]}):s.jsx("img",{src:`/static${o[n]?.photo}`,alt:o[n].name,className:"w-full h-full object-cover"})})})}),s.jsxs("div",{className:y("flex items-center gap-1",o[n]?.photo?"sm:mt-0 mt-2":""),children:[Array.from({length:Math.floor(o[n].rating)}).map((e,t)=>s.jsx(u,{className:y("h-4 w-4 sm:h-5 sm:w-5",t<o[n].rating?"fill-yellow-400 text-yellow-400":"fill-muted text-muted")},t)),o[n].rating%1!=0&&s.jsx(g,{className:y("h-4 w-4 sm:h-5 sm:w-5","fill-yellow-400 text-yellow-400")})]})]})]}),o[n].products&&o[n].products.length>0&&s.jsx("div",{className:"mt-4 pt-4 border-t border-border/50",children:s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o[n].products.slice(0,3).map(e=>s.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:e.name},e.id)),o[n].products.length>3&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",o[n].products.length-3," more"]})]})})]})})}),o.length>2&&s.jsx("div",{className:"w-72 sm:w-96 flex-shrink-0 px-2 opacity-40 scale-95 blur-[0.5px] cursor-pointer transition-all duration-300 hover:opacity-50 hover:scale-100 hidden sm:block",onClick:xe,children:s.jsx(P,{className:"border-0 bg-muted/50 backdrop-blur-sm h-full",children:s.jsxs(I,{className:"p-4 sm:p-6 flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mb-3",children:s.jsx("span",{className:"text-primary font-semibold text-lg",children:o[pe].name.charAt(0).toUpperCase()})}),s.jsx("h4",{className:"font-semibold text-foreground text-sm mb-1",children:o[pe].name}),s.jsx("div",{className:"flex gap-0.5 mb-2",children:Array.from({length:Math.floor(o[pe].rating)}).map((e,t)=>s.jsx(u,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"},t))}),s.jsxs("p",{className:"text-muted-foreground text-xs line-clamp-3",children:['"',o[pe].review.substring(0,100),'..."']})]})})})]})}),o.length>1&&s.jsx("div",{className:"flex justify-center gap-2 mt-6",children:o.map((e,t)=>s.jsx("button",{onClick:()=>(e=>{x||e===n||0===o.length||(w(!0),c(e),setTimeout(()=>w(!1),500))})(t),className:y("w-2 h-2 rounded-full transition-all duration-300",t===n?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/50")},t))})]})]}),s.jsx(B,{open:k,onOpenChange:T,children:s.jsxs(G,{className:"sm:max-w-lg z-40",children:[s.jsx(V,{children:s.jsx(U,{children:"Write a Review"})}),s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};W.name.trim()||(e.name="Name is required"),W.phone.trim()?/^[0-9+\-\s]{7,15}$/.test(W.phone.trim())||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required";return W.review.trim()?W.review.trim().length<10&&(e.review="Review must be at least 10 characters long"):e.review="Review is required",se(e),0===Object.keys(e).length})()){M(!0);try{const e={name:W.name.trim(),phone:W.phone.trim(),review:W.review.trim(),rating:W.rating,highlight:!1,location:W.location.trim()||null,reviewDate:(new Date).toISOString(),products:re.map(e=>e.id),...Boolean(W?.userId)&&{userId:W.userId},...r?.id&&{userId:r.id}},s=new FormData;s.append("request",v(e)),W.photo&&s.append("photo",W.photo),j.postFormData({endpoint:"/order/save-review",body:s,successCallback:e=>{T(!1),H({name:r?.name||"",phone:r?.phone||"",rating:0,review:"",location:"",reviewDate:"",photo:null}),K(null),se({}),le([]),j.postData({endpoint:"/order/get-reviews",body:{request:v({})},successCallback:e=>{i(e.reviews||[])}}),C.success("Thank you for your review!")},errorCallback:e=>{C.error(e?.error||e?.message||"Failed to submit review. Please try again.")}})}catch(s){C.error("An unexpected error occurred. Please try again.")}finally{M(!1)}}},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(_,{id:"name",name:"name",value:W.name,onChange:be,placeholder:"Your name",className:y(ee.name&&"border-red-500")}),ee.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ee.name})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium mb-1",children:["Phone Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(_,{id:"phone",name:"phone",value:W.phone,onChange:be,placeholder:"Your phone number",className:y(ee.phone&&"border-red-500")}),ee.phone&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ee.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:["Location ",s.jsx("span",{className:"text-muted-foreground",children:"(Optional)"})]}),s.jsx(_,{id:"location",name:"location",value:W.location,onChange:be,placeholder:"Your location (e.g., Chennai, India)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Rating ",s.jsx("span",{className:"text-muted-foreground",children:"(Optional)"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(e=>s.jsx("button",{type:"button",onClick:()=>{return s=e,void(W.rating===s?H(e=>({...e,rating:s-.5})):H(e=>({...e,rating:s})));var s},className:"focus:outline-none transition-transform hover:scale-110",children:e<=Math.floor(W.rating)?s.jsx(u,{className:"h-8 w-8 fill-yellow-400 text-yellow-400"}):W.rating>=e-.5&&W.rating<e?s.jsx(g,{className:"h-8 w-8 fill-yellow-400 text-yellow-400"}):s.jsx(u,{className:"h-8 w-8 fill-muted text-muted"})},e)),W.rating>0&&s.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[W.rating," star",1!==W.rating?"s":""]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Photo/Video ",s.jsx("span",{className:"text-muted-foreground",children:"(Optional)"})]}),Z?s.jsxs("div",{className:"relative",children:[W.photo&&(["video/mp4","video/quicktime","video/x-msvideo","video/webm","video/x-matroska","video/x-m4v"].includes(W.photo.type)?s.jsx(O,{src:Z,className:"w-full h-48 rounded-lg"}):s.jsx("img",{src:Z,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"})),s.jsx("button",{type:"button",onClick:()=>{H(e=>({...e,photo:null})),K(null),ne.current&&(ne.current.value="")},className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(b,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/30 rounded-lg p-6 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>ne.current?.click(),children:[s.jsx(f,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload a photo or video"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Images: JPEG, PNG, WebP, GIF (max 5MB) • Videos: MP4, MOV, WebM (max 50MB)"}),s.jsx("input",{ref:ne,type:"file",accept:"image/jpeg,image/png,image/webp,image/gif,video/mp4,video/quicktime,video/webm,video/x-matroska,video/x-m4v",onChange:e=>{const s=e.target.files?.[0];if(s){const e=["video/mp4","video/quicktime","video/x-msvideo","video/webm","video/x-matroska","video/x-m4v"];if(![...["image/jpeg","image/png","image/webp","image/gif"],...e].includes(s.type))return void se(e=>({...e,photo:"Please upload a valid image (JPEG, PNG, WebP, GIF) or video (MP4, MOV, AVI, WebM)"}));const t=e.includes(s.type),a=t?52428800:5242880;if(s.size>a)return void se(e=>({...e,photo:"File size must be less than "+(t?"50MB":"5MB")}));H(e=>({...e,photo:s})),se(e=>({...e,photo:""}));const r=new FileReader;r.onloadend=()=>{K(r.result)},r.readAsDataURL(s)}},className:"hidden"})]}),ee.photo&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ee.photo})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Products ",s.jsx("span",{className:"text-muted-foreground",children:"(Optional)"})]}),s.jsxs(X,{children:[s.jsx(Q,{asChild:!0,children:s.jsx(N,{type:"button",variant:"outline",className:y("w-full justify-between text-left font-normal",0===re.length&&"text-muted-foreground"),children:re.length>0?`${re.length} product(s) selected`:"Select products"})}),s.jsxs(Y,{className:"w-[350px] p-0",align:"start",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[s.jsx("span",{className:"text-sm font-medium",children:"Select Products"}),re.length>0&&s.jsx("button",{type:"button",onClick:()=>{le([])},className:"text-xs text-primary hover:underline",children:"Clear all"})]}),oe?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Loading products..."}):0===te.length?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No products available"}):s.jsx("div",{className:"h-[200px] overflow-y-auto p-3 space-y-2",onWheel:e=>e.stopPropagation(),children:te.map(e=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(R,{id:`product-${e.id}`,checked:re.some(s=>s.id===e.id),onCheckedChange:s=>{de(e,s)}}),s.jsx(J,{htmlFor:`product-${e.id}`,className:"text-sm font-normal leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e.name})]},e.id))})]})]}),re.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:re.map(e=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:[e.name,s.jsx("button",{type:"button",onClick:()=>de(e,!1),className:"hover:text-primary/70",children:"×"})]},e.id))})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"review",className:"block text-sm font-medium mb-1",children:["Your Review ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"review",name:"review",value:W.review,onChange:be,placeholder:"Share your experience with us...",rows:4,className:y("w-full px-3 py-2 border rounded-lg bg-background text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-primary",ee.review&&"border-red-500")}),ee.review&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ee.review})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(N,{type:"button",variant:"outline",onClick:()=>T(!1),disabled:$,children:"Cancel"}),s.jsx(N,{type:"submit",disabled:$,children:$?"Submitting...":"Submit Review"})]})]})]})})]});var je},de=()=>(e.useEffect(()=>{window.resetZoom&&window.resetZoom()},[]),s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(H,{}),s.jsxs("main",{className:"flex-1",children:[s.jsx("section",{className:"relative",children:s.jsx(Z,{})}),s.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),s.jsx("section",{className:"relative bg-background/50",children:s.jsx(ne,{name:"shop"})}),s.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-border to-transparent"}),s.jsx("section",{className:"relative",children:s.jsx(ce,{})}),s.jsx("section",{className:"relative",children:s.jsx(K,{})})]}),s.jsx(ee,{})]}));export{de as default};
