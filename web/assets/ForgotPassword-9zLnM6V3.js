import{r as o,o as p,j as e,A as i,E as h,K as f,L as g,M as j}from"./vendor-react-Bv33ryjV.js";import{L as b,C as N}from"./dropdown-menu-BDj5FxyU.js";import{T as y}from"./TopNav-JT08H0jt.js";import{B as w,c as t,A as l,e as m}from"./index-BgzncNPj.js";import{C as v,a as C,b as L,c as S}from"./card-dPuP1Ci1.js";import{I as k}from"./input-group-AlYMXmbe.js";import"./NavBar-BWSSAL5l.js";import"./TopBar-D2vj-zy0.js";import"./vendor-pdf-DxqLLkkN.js";import"./input-B6PrAciv.js";const K=()=>{const[s,d]=o.useState(""),[a,r]=o.useState(!1),c=p(),x=async u=>{if(u.preventDefault(),!s.trim()){t.error("Please enter email or phone number");return}r(!0),l.postData({endpoint:"/user/validate-details",body:{request:m({username:s,email:s,phone:s})},successCallback:()=>{r(!1),t.error(e.jsxs("span",{children:["Email or Phone Number or Username is not registered with us. Please go ahead and"," ",e.jsx("a",{href:"/register",className:"text-primary hover:underline font-medium",children:"register"}),"."]}),{duration:5e3})},errorCallback:()=>{l.postData({endpoint:"/user/forgot-password",body:{request:m({identifier:s,regenerate:!0})},successCallback:n=>{r(!1),t.success(`${n.message}`,{duration:5e3}),sessionStorage.setItem("resetIdentifier",s),c("/reset-password")},errorCallback:n=>{r(!1),t.error("Something went wrong while sending OTP.")}})}})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center py-6 sm:py-8 lg:py-12 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"w-42 h-42 sm:w-42 sm:h-42 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(b,{size:"xxl"})}),e.jsx("div",{className:"mb-6",children:e.jsxs(i,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(h,{className:"h-4 w-4"}),"Back to Login"]})}),e.jsxs(v,{className:"shadow-lg",children:[e.jsxs(C,{className:"text-center pb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(f,{className:"h-8 w-8 text-primary"})}),e.jsx(L,{className:"text-2xl sm:text-3xl font-bold",children:"Forgot Password?"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-2",children:"Enter your email address, phone number, or username and we'll send you a link to reset your password."})]}),e.jsxs(S,{children:[e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsx(k,{label:"Email, Phone Number, or Username",type:"text",value:s,onChange:d,placeholder:"Enter your email, phone, or username",required:!0}),e.jsxs(w,{type:"submit",className:"w-full h-11 text-sm sm:text-base",disabled:a||!s.trim(),children:[a&&e.jsx(g,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Sending Reset Link...":"Send Reset Link"]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:e.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Don't have an account?"," ",e.jsx(i,{to:"/register",className:"text-primary hover:text-primary/80 font-medium transition-colors",children:"Sign up here"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{children:"Need help? Contact us at renushomefoods@gmail.com"})]})})]})}),e.jsx(N,{})]})};export{K as default};
